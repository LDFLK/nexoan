# Query API

## Implement OpenAPI Contract

The Ballerina service can be generated by the following command. 

> ðŸ’¡ Note: Always make sure the contract has the expected endpoints and request params
> before working on the code. The generated endpoints should not be editable at all. 
> Maybe the only changes that can be done is adding error handlers, but request and response
> must be defined in the contract. 

```bash
bal openapi -i ../contracts/rest/query_api.yaml --mode service
```

## Generate GRPC Stubs

The client stub generated here will be sending and receiving values via Grpc. 
This will send requests to the corresponding CRUD server endpoint. 

```bash
bal grpc --mode client --input ../crud-api/protos/types_v1.proto --output .
```

## Development

```bash
cd design/query-api
cp env.template .env
# update the required fields to set the environment variables
source .env
# make sure crud service is running
bal test
```